{"version":3,"file":"sofico-framework-ui-kit-components-simple-list.js","sources":["../../../../projects/sofico-framework/ui-kit/components/simple-list/simple-list.component.ts","../../../../projects/sofico-framework/ui-kit/components/simple-list/simple-list.module.ts","../../../../projects/sofico-framework/ui-kit/components/simple-list/classes/simple-list-config.class.ts","../../../../projects/sofico-framework/ui-kit/components/simple-list/services/simple-list-config-builder.service.ts","../../../../projects/sofico-framework/ui-kit/components/simple-list/sofico-framework-ui-kit-components-simple-list.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { SortingOrderConfig } from '@sofico-framework/utils';\nimport { ReplaySubject } from 'rxjs';\nimport { SimpleListConfig } from './classes/simple-list-config.class';\n\n@Component({\n  selector: 'sof-simple-list',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <ng-container *ngIf=\"config$ | async as config\">\n      <ng-container *ngIf=\"entities$ | async as entities\">\n        <ng-container *ngIf=\"entities && entities.length > 0; else noResults\">\n          <sof-overview-list-item\n            *ngFor=\"\n              let entity of entities | sofSort: (sorting$ | async);\n              trackBy: trackByFn\n            \"\n            [entity]=\"entity\"\n            [tc]=\"tc\"\n            [dynamicRowComponent]=\"config?.dynamicRowComponent\"\n          >\n          </sof-overview-list-item>\n        </ng-container>\n      </ng-container>\n      <ng-template #noResults>\n        {{ tc + '.' + 'NO-RESULTS' | translate }}\n      </ng-template>\n    </ng-container>\n  `\n})\nexport class SimpleListComponent<T> {\n  /**\n   * The translation context.\n   */\n  @Input() tc: string;\n\n  /**\n   * The simple list config.\n   */\n  @Input() set config(config: SimpleListConfig<T>) {\n    if (config) {\n      this.config$.next(config);\n      this.sorting$.next(config.initialSorting);\n    }\n  }\n\n  /**\n   * The entities we want to render in this list.\n   */\n  @Input() set entities(entities: T[]) {\n    if (entities) {\n      this.entities$.next(entities);\n    }\n  }\n\n  // input streams\n  entities$ = new ReplaySubject<T[]>(1);\n  config$ = new ReplaySubject<SimpleListConfig<T>>(1);\n  sorting$: ReplaySubject<SortingOrderConfig<T>> = new ReplaySubject<\n    SortingOrderConfig<T>\n  >(1);\n\n  trackByFn = i => i;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { LoadingModule } from '@sofico-framework/ui-kit/components/loading';\nimport { OverviewListItemModule } from '@sofico-framework/ui-kit/components/overview-list-item';\nimport { UtilsPipesModule } from '@sofico-framework/utils';\nimport { SimpleListComponent } from './simple-list.component';\n\n@NgModule({\n  declarations: [SimpleListComponent],\n  exports: [SimpleListComponent],\n  imports: [\n    CommonModule,\n    OverviewListItemModule,\n    LoadingModule,\n    TranslateModule,\n    UtilsPipesModule\n  ]\n})\nexport class SimpleListModule {}\n","import { Type } from '@angular/core';\nimport { ListItemComponent } from '@sofico-framework/ui-kit/types';\nimport { SortingOrderConfig } from '@sofico-framework/utils';\n\n/**\n * Configuration/builder to build an simplelist config\n * This object contains configuration regarding initial sorting of an object\n */\nexport class SimpleListConfig<T> {\n  initialSorting: SortingOrderConfig<T> = {\n    prop: null\n  };\n  dynamicRowComponent: Type<ListItemComponent<T>> = null;\n\n  setSorting(\n    selector: (entity: T) => any,\n    order: 'asc' | 'desc'\n  ): SimpleListConfig<T> {\n    this.initialSorting = {\n      prop: selector,\n      order\n    } as SortingOrderConfig<T>;\n    return this;\n  }\n\n  setDynamicRowComponent(\n    component: Type<ListItemComponent<T>>\n  ): SimpleListConfig<T> {\n    this.dynamicRowComponent = component;\n    return this;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SimpleListConfig } from '../classes/simple-list-config.class';\n\n/**\n * We use this builder to create an simpleListConfig\n * ```typescript\n *\n * builder.createConfig().withFunctionalProp(...)\n *\n * ```\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class SimpleListConfigBuilder<T> {\n  createConfig(): SimpleListConfig<T> {\n    return new SimpleListConfig<T>();\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;MA8Ba,mBAAmB;IAzBhC;;QAmDE,cAAS,GAAG,IAAI,aAAa,CAAM,CAAC,CAAC,CAAC;QACtC,YAAO,GAAG,IAAI,aAAa,CAAsB,CAAC,CAAC,CAAC;QACpD,aAAQ,GAAyC,IAAI,aAAa,CAEhE,CAAC,CAAC,CAAC;QAEL,cAAS,GAAG,CAAC,IAAI,CAAC,CAAC;KACpB;;;;IAxBC,IAAa,MAAM,CAAC,MAA2B;QAC7C,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;SAC3C;KACF;;;;IAKD,IAAa,QAAQ,CAAC,QAAa;QACjC,IAAI,QAAQ,EAAE;YACZ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC/B;KACF;;;YAhDF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;GAoBT;aACF;;;iBAKE,KAAK;qBAKL,KAAK;uBAUL,KAAK;;;MC9BK,gBAAgB;;;YAX5B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,mBAAmB,CAAC;gBACnC,OAAO,EAAE,CAAC,mBAAmB,CAAC;gBAC9B,OAAO,EAAE;oBACP,YAAY;oBACZ,sBAAsB;oBACtB,aAAa;oBACb,eAAe;oBACf,gBAAgB;iBACjB;aACF;;;ACdD;;;;MAIa,gBAAgB;IAA7B;QACE,mBAAc,GAA0B;YACtC,IAAI,EAAE,IAAI;SACX,CAAC;QACF,wBAAmB,GAA+B,IAAI,CAAC;KAmBxD;IAjBC,UAAU,CACR,QAA4B,EAC5B,KAAqB;QAErB,IAAI,CAAC,cAAc,GAAG;YACpB,IAAI,EAAE,QAAQ;YACd,KAAK;SACmB,CAAC;QAC3B,OAAO,IAAI,CAAC;KACb;IAED,sBAAsB,CACpB,SAAqC;QAErC,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;QACrC,OAAO,IAAI,CAAC;KACb;;;AC3BH;;;;;;;;MAWa,uBAAuB;IAClC,YAAY;QACV,OAAO,IAAI,gBAAgB,EAAK,CAAC;KAClC;;;;YANF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;ACbD;;;;;;"}