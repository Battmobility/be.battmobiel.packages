{"version":3,"file":"sofico-framework-ui-kit-components-tabs.js","sources":["../../../../projects/sofico-framework/ui-kit/components/tabs/tabs.component.ts","../../../../projects/sofico-framework/ui-kit/components/tabs/tabs.module.ts","../../../../projects/sofico-framework/ui-kit/components/tabs/sofico-framework-ui-kit-components-tabs.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  QueryList,\n  SimpleChanges,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport { Tab, TabComponent } from '@sofico-framework/ui-kit/components/tab';\nimport { takeUntilDestroy, UntilDestroy } from 'ngx-reactivetoolkit';\nimport { take } from 'rxjs/operators';\n\n@UntilDestroy()\n@Component({\n  selector: 'sof-tabs',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <div class=\"snap-left\">\n      <button\n        sofButton\n        class=\"btn btn-plain\"\n        *ngIf=\"!inViewLeft\"\n        (click)=\"scroll(true)\"\n      >\n        <sof-svg-icon icon=\"icon-chevron-left\"></sof-svg-icon>\n      </button>\n    </div>\n    <div class=\"tabs\" #tabsView>\n      <sof-in-view\n        [scrollableRef]=\"tabsViewRef?.nativeElement\"\n        (inView)=\"inViewLeft = $event\"\n      ></sof-in-view>\n\n      <sof-tab\n        *ngFor=\"let tab of tabs; trackBy: trackByFn; let index = index\"\n        [tc]=\"tc\"\n        #tabCmps\n        class=\"mr-1\"\n        [tab]=\"tab\"\n        [isSelected]=\"tab === active\"\n        (clickTab)=\"clickedTab.emit(tab)\"\n      ></sof-tab>\n      <sof-in-view\n        [scrollableRef]=\"tabsViewRef?.nativeElement\"\n        (inView)=\"inViewRight = $event\"\n      >\n      </sof-in-view>\n      <div class=\"right-spacer\"></div>\n    </div>\n    <div class=\"snap-right\">\n      <button\n        sofButton\n        class=\"btn btn-plain\"\n        *ngIf=\"!inViewRight\"\n        (click)=\"scroll(false)\"\n      >\n        <sof-svg-icon icon=\"icon-chevron-right\"></sof-svg-icon>\n      </button>\n    </div>\n  `,\n  styleUrls: ['./tabs.component.scss']\n})\nexport class TabsComponent implements OnChanges, AfterViewInit, OnDestroy {\n  inViewLeft = true;\n  inViewRight = true;\n  @Input() tc: string;\n  @Input() tabs: Tab[];\n  @Input() active: Tab;\n  @Output() clickedTab = new EventEmitter<Tab>();\n  @ViewChild('tabsView', { read: ElementRef, static: true }) tabsViewRef;\n  @ViewChildren('tabCmps') tabComponents: QueryList<TabComponent>;\n  trackByFn = (i, r) => r;\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.active) {\n      this.scrollToCenter();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    // Once all the tabs are initialized, scroll to the active one\n    this.tabComponents.changes\n      .pipe(takeUntilDestroy(this), take(1))\n      .subscribe((comps: QueryList<TabComponent>) => {\n        this.scrollToCenter();\n      });\n  }\n\n  ngOnDestroy(): void {}\n\n  /**\n   * Scroll a bit to the right, make factor negative for left scroll\n   * @param factor scrolling factor, 1 for normal right, -1 for normal left\n   */\n  scroll(back: boolean): void {\n    const element = this.tabsViewRef.nativeElement;\n    element.scroll(\n      Math.max(\n        0,\n        element.scrollLeft + (back ? -1 : 1) * (element.clientWidth * 0.35)\n      ),\n      0\n    );\n  }\n\n  private scrollToCenter(): void {\n    if (this.tabComponents && this.active) {\n      const elem = this.tabComponents.find(x => x.tab === this.active)\n        ?.elementRef?.nativeElement;\n      elem?.scrollIntoView({\n        block: 'nearest',\n        inline: 'center',\n        behavior: 'smooth'\n      });\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ButtonModule } from '@sofico-framework/ui-kit/components/button';\nimport { InViewModule } from '@sofico-framework/ui-kit/components/in-view';\nimport { SvgIconModule } from '@sofico-framework/ui-kit/components/svg-icon';\nimport { TabModule } from '@sofico-framework/ui-kit/components/tab';\nimport { TabsComponent } from './tabs.component';\n\n@NgModule({\n  imports: [CommonModule, SvgIconModule, ButtonModule, TabModule, InViewModule],\n  declarations: [TabsComponent],\n  exports: [TabsComponent]\n})\nexport class TabsModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;;;IAqEa,aAAa,SAAb,aAAa;;QACxB,eAAU,GAAG,IAAI,CAAC;QAClB,gBAAW,GAAG,IAAI,CAAC;QAIT,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QAG/C,cAAS,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;KA6CzB;IA3CC,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,MAAM,EAAE;YAClB,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;KACF;IAED,eAAe;;QAEb,IAAI,CAAC,aAAa,CAAC,OAAO;aACvB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;aACrC,SAAS,CAAC,CAAC,KAA8B;YACxC,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB,CAAC,CAAC;KACN;IAED,WAAW,MAAW;;;;;IAMtB,MAAM,CAAC,IAAa;QAClB,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;QAC/C,OAAO,CAAC,MAAM,CACZ,IAAI,CAAC,GAAG,CACN,CAAC,EACD,OAAO,CAAC,UAAU,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,CACpE,EACD,CAAC,CACF,CAAC;KACH;IAEO,cAAc;;QACpB,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,MAAM,EAAE;YACrC,MAAM,IAAI,eAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,0CAC5D,UAAU,0CAAE,aAAa,CAAC;YAC9B,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,cAAc,CAAC;gBACnB,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,QAAQ;gBAChB,QAAQ,EAAE,QAAQ;aACnB,EAAE;SACJ;KACF;EACF;;YAvGA,SAAS,SAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA2CT;;aAEF;;;iBAIE,KAAK;mBACL,KAAK;qBACL,KAAK;yBACL,MAAM;0BACN,SAAS,SAAC,UAAU,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE;4BACxD,YAAY,SAAC,SAAS;;AARZ,aAAa;IAlDzB,YAAY,EAAE;GAkDF,aAAa,CAsDzB;;MC9GY,UAAU;;;YALtB,QAAQ,SAAC;gBACR,OAAO,EAAE,CAAC,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,SAAS,EAAE,YAAY,CAAC;gBAC7E,YAAY,EAAE,CAAC,aAAa,CAAC;gBAC7B,OAAO,EAAE,CAAC,aAAa,CAAC;aACzB;;;ACZD;;;;;;"}