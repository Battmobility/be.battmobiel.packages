!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@sofico-framework/ui-kit/components/form"),require("@sofico-framework/ui-kit/directives/focus"),require("@sofico-framework/utils"),require("ngx-reactivetoolkit"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("ng-zorro-antd/time-picker")):"function"==typeof define&&define.amd?define("@sofico-framework/ui-kit/components/input-time-picker",["exports","@angular/core","@angular/forms","@sofico-framework/ui-kit/components/form","@sofico-framework/ui-kit/directives/focus","@sofico-framework/utils","ngx-reactivetoolkit","rxjs","rxjs/operators","@angular/common","ng-zorro-antd/time-picker"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["sofico-framework"]=e["sofico-framework"]||{},e["sofico-framework"]["ui-kit"]=e["sofico-framework"]["ui-kit"]||{},e["sofico-framework"]["ui-kit"].components=e["sofico-framework"]["ui-kit"].components||{},e["sofico-framework"]["ui-kit"].components["input-time-picker"]={}),e.ng.core,e.ng.forms,e["sofico-framework"]["ui-kit"].components.form,e["sofico-framework"]["ui-kit"].directives.focus,e.utils,e.ngxReactivetoolkit,e.rxjs,e.rxjs.operators,e.ng.common,e.timePicker)}(this,(function(e,t,n,o,i,r,u,s,a,p,c){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function l(e,t,n,o){var i,r=arguments.length,u=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(u=(r<3?i(u):r>3?i(t,n,u):i(t,n))||u);return r>3&&u&&Object.defineProperty(t,n,u),u}Object.create;function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)u.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return u}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}var d;Object.create;e.InputTimePickerComponent=d=function(){function e(e,o,i){this.form=e,this.ngControl=o,this.changeDetectorRef=i,this.size="large",this.timeFormat=r.TimeFormatEnum.HH_TIME_M,this.use12Hours=!1,this.allowEmpty=!0,this.defaultOpenValue=new Date,this.invalid=!1,this.changeValue=new t.EventEmitter,this.touch=new t.EventEmitter,this.internalFormControl=new n.FormControl(null),o&&(o.valueAccessor=this)}return e.prototype.sofFocus=function(){this.inputElement.nativeElement.getElementsByTagName("input")[0].focus(),this.changeDetectorRef.detectChanges()},e.prototype.ngOnDestroy=function(){var e;(null===(e=this.ngControl)||void 0===e?void 0:e.valueAccessor)&&(this.ngControl.valueAccessor.writeValue=function(){})},e.prototype.ngOnChanges=function(){},e.prototype.ngOnInit=function(){var e=this;this.internalFormControl.valueChanges.pipe(u.takeUntilDestroy(this)).subscribe((function(t){e.isDisabled||(e.changeValue.emit(t),e.propagateChange&&e.propagateChange(t))})),this.disabledHours$=s.combineLatest([this.minTime$.pipe(a.startWith(null)),this.maxTime$.pipe(a.startWith(null))]).pipe(a.map((function(t){var n=m(t,2),o=n[0],i=n[1];return e.getNgZorroDisabledHours(o,i)}))),this.disabledMinutes$=s.combineLatest([this.minTime$.pipe(a.startWith(null)),this.maxTime$.pipe(a.startWith(null))]).pipe(a.map((function(t){var n=m(t,2),o=n[0],i=n[1];return e.getNgZorroDisabledMinutes(o,i)}))),this.disabledSeconds$=s.combineLatest([this.minTime$.pipe(a.startWith(null)),this.maxTime$.pipe(a.startWith(null))]).pipe(a.map((function(t){var n=m(t,2),o=n[0],i=n[1];return e.getNgZorroDisabledSeconds(o,i)})))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.propagateTouch=e},e.prototype.writeValue=function(e){this.internalFormControl.setValue(e,{emitEvent:!1})},e.prototype.onTouch=function(e){e||(this.touch.emit(),!this.isDisabled&&this.propagateTouch&&this.propagateTouch())},e.prototype.getNgZorroDisabledHours=function(e,t){var n=this;return function(){return f(Array(24).keys()).reduce((function(o,i){return n.hourAllowed(e,t,i)||o.push(i),o}),[])}},e.prototype.getNgZorroDisabledMinutes=function(e,t){var n=this;return function(o){return f(Array(60).keys()).reduce((function(i,r){return n.hourAllowed(e,t,o)&&n.minuteAllowed(e,t,o,r)||i.push(r),i}),[])}},e.prototype.getNgZorroDisabledSeconds=function(e,t){var n=this;return function(o,i){return f(Array(60).keys()).reduce((function(r,u){return n.hourAllowed(e,t,o)&&n.minuteAllowed(e,t,o,i)&&n.secondAllowed(e,t,o,i,u)||r.push(u),r}),[])}},e.prototype.hourAllowed=function(e,t,n){if(e||t){if(t&&t.getHours()<n)return!1;if(e&&e.getHours()>n)return!1}return!0},e.prototype.minuteAllowed=function(e,t,n,o){if(e||t){if(t&&t.getHours()===n&&t.getMinutes()<o)return!1;if(e&&e.getHours()===n&&e.getMinutes()>o)return!1}return!0},e.prototype.secondAllowed=function(e,t,n,o,i){if(e||t){if(t&&t.getHours()===n&&t.getMinutes()===o&&t.getSeconds()<i)return!1;if(e&&e.getHours()===n&&e.getMinutes()===o&&e.getSeconds()>i)return!1}return!0},e}(),e.InputTimePickerComponent.decorators=[{type:t.Component,args:[{selector:"sof-input-time-picker",encapsulation:t.ViewEncapsulation.None,template:'\n    <nz-time-picker\n      #inputElement\n      [@.disabled]="true"\n      [formControl]="internalFormControl"\n      [nzSize]="size"\n      [nzFormat]="timeFormat"\n      [nzPlaceHolder]="placeHolder"\n      [nzUse12Hours]="use12Hours"\n      [nzHourStep]="hourStep"\n      [nzMinuteStep]="minuteStep"\n      [nzSecondStep]="secondStep"\n      [nzAllowEmpty]="allowEmpty"\n      [nzDefaultOpenValue]="defaultOpenValue"\n      [nzDisabled]="isDisabled"\n      [nzDisabledHours]="disabledHours$ | async"\n      [nzDisabledMinutes]="disabledMinutes$ | async"\n      [nzDisabledSeconds]="disabledSeconds$ | async"\n      [class.is-invalid]="\n        invalid ||\n        (ngControl?.invalid && (ngControl?.touched || form?.submitted))\n      "\n      (nzOpenChange)="onTouch($event)"\n    ></nz-time-picker>\n  ',providers:[{provide:i.SOF_FOCUS_COMPONENT,useExisting:d}],styles:["sof-input-time-picker nz-time-picker{width:100%;height:38px}sof-input-time-picker nz-time-picker .ant-picker-suffix .anticon-clock-circle{display:flex}sof-input-time-picker nz-time-picker.is-invalid .ant-picker-input input{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem);transition:none}"]}]}],e.InputTimePickerComponent.ctorParameters=function(){return[{type:o.FormComponent,decorators:[{type:t.Optional}]},{type:n.NgControl,decorators:[{type:t.Optional},{type:t.Host}]},{type:t.ChangeDetectorRef}]},e.InputTimePickerComponent.propDecorators={size:[{type:t.Input}],timeFormat:[{type:t.Input}],use12Hours:[{type:t.Input}],placeHolder:[{type:t.Input}],hourStep:[{type:t.Input}],minuteStep:[{type:t.Input}],secondStep:[{type:t.Input}],allowEmpty:[{type:t.Input}],defaultOpenValue:[{type:t.Input}],labelForId:[{type:t.Input}],isDisabled:[{type:t.Input}],invalid:[{type:t.Input}],changeValue:[{type:t.Output}],touch:[{type:t.Output}],minTime:[{type:t.Input}],maxTime:[{type:t.Input}],inputElement:[{type:t.ViewChild,args:["inputElement",{read:t.ElementRef}]}]},l([u.Changes("minTime")],e.InputTimePickerComponent.prototype,"minTime$",void 0),l([u.Changes("maxTime")],e.InputTimePickerComponent.prototype,"maxTime$",void 0),e.InputTimePickerComponent=d=l([u.UntilDestroy()],e.InputTimePickerComponent);var h=function(){};h.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,c.NzTimePickerModule,n.FormsModule,n.ReactiveFormsModule,n.FormsModule],declarations:[e.InputTimePickerComponent],exports:[e.InputTimePickerComponent]}]}],e.InputTimePickerModule=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sofico-framework-ui-kit-components-input-time-picker.umd.min.js.map