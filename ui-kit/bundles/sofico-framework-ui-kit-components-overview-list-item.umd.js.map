{"version":3,"file":"sofico-framework-ui-kit-components-overview-list-item.umd.js","sources":["../../../../projects/sofico-framework/ui-kit/components/overview-list-item/overview-list-item.component.ts","../../../../projects/sofico-framework/ui-kit/components/overview-list-item/overview-list-item.module.ts","../../../../projects/sofico-framework/ui-kit/components/overview-list-item/sofico-framework-ui-kit-components-overview-list-item.ts"],"sourcesContent":["import { InteractivityChecker } from '@angular/cdk/a11y';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Input,\n  OnInit,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\nimport {\n  OnSofFocus,\n  SOF_FOCUS_COMPONENT\n} from '@sofico-framework/ui-kit/directives/focus';\nimport { ListItemComponent } from '@sofico-framework/ui-kit/types';\n\n@Component({\n  selector: 'sof-overview-list-item',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: ``,\n  styleUrls: ['./overview-list-item.component.scss'],\n  providers: [\n    { provide: SOF_FOCUS_COMPONENT, useExisting: OverviewListItemComponent }\n  ]\n})\nexport class OverviewListItemComponent<T> implements OnInit, OnSofFocus {\n  private componentRef: ComponentRef<ListItemComponent<T>>;\n  private localTc: string;\n  private localEntity: T;\n\n  /**\n   * The translation context.\n   */\n  @Input() set tc(tc: string) {\n    this.localTc = tc;\n\n    if (this.componentRef) {\n      (this.componentRef.instance as any).tc = this.localTc;\n    }\n  }\n\n  /**\n   * The entity we want to set.\n   */\n  @Input() set entity(entity: T) {\n    this.localEntity = entity;\n\n    if (this.componentRef) {\n      (this.componentRef.instance as any).entity = this.localEntity;\n    }\n  }\n\n  /**\n   * The component that must be dynamically injected into the template.\n   */\n  @Input() dynamicRowComponent: Type<ListItemComponent<T>>;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private viewContainerRef: ViewContainerRef,\n    private interactivityChecker: InteractivityChecker\n  ) {}\n\n  ngOnInit(): void {\n    const factory = this.componentFactoryResolver.resolveComponentFactory(\n      this.dynamicRowComponent\n    );\n    this.componentRef = this.viewContainerRef.createComponent(factory);\n    (this.componentRef.instance as any).tc = this.localTc;\n    (this.componentRef.instance as any).entity = this.localEntity;\n  }\n\n  sofFocus(): void {\n    if (\n      this.componentRef.instance &&\n      typeof ((this.componentRef.instance as any) as OnSofFocus).sofFocus ===\n        'function'\n    ) {\n      ((this.componentRef.instance as any) as OnSofFocus).sofFocus();\n    } else if (\n      this.interactivityChecker.isFocusable(\n        this.componentRef.location.nativeElement\n      )\n    ) {\n      this.componentRef.location.nativeElement.focus();\n    } else if (\n      this.interactivityChecker.isFocusable(\n        this.componentRef.location.nativeElement?.firstChild\n      )\n    ) {\n      this.componentRef.location.nativeElement.firstChild.focus();\n    } else {\n      throw Error(\n        'The dynamic row component nor its first child is focusable.'\n      );\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { OverviewListItemComponent } from './overview-list-item.component';\n\n@NgModule({\n  declarations: [OverviewListItemComponent],\n  exports: [OverviewListItemComponent],\n  imports: [CommonModule]\n})\nexport class OverviewListItemModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Component","ChangeDetectionStrategy","SOF_FOCUS_COMPONENT","ComponentFactoryResolver","ViewContainerRef","InteractivityChecker","Input","NgModule","CommonModule"],"mappings":";;;;;;;QA0DE,mCACU,wBAAkD,EAClD,gBAAkC,EAClC,oBAA0C;YAF1C,6BAAwB,GAAxB,wBAAwB,CAA0B;YAClD,qBAAgB,GAAhB,gBAAgB,CAAkB;YAClC,yBAAoB,GAApB,oBAAoB,CAAsB;SAChD;QA5BJ,sBAAa,yCAAE;;;;iBAAf,UAAgB,EAAU;gBACxB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAElB,IAAI,IAAI,CAAC,YAAY,EAAE;oBACpB,IAAI,CAAC,YAAY,CAAC,QAAgB,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;iBACvD;aACF;;;WAAA;QAKD,sBAAa,6CAAM;;;;iBAAnB,UAAoB,MAAS;gBAC3B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;gBAE1B,IAAI,IAAI,CAAC,YAAY,EAAE;oBACpB,IAAI,CAAC,YAAY,CAAC,QAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;iBAC/D;aACF;;;WAAA;QAaD,4CAAQ,GAAR;YACE,IAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CACnE,IAAI,CAAC,mBAAmB,CACzB,CAAC;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAClE,IAAI,CAAC,YAAY,CAAC,QAAgB,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACrD,IAAI,CAAC,YAAY,CAAC,QAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;SAC/D;QAED,4CAAQ,GAAR;;YACE,IACE,IAAI,CAAC,YAAY,CAAC,QAAQ;gBAC1B,OAAS,IAAI,CAAC,YAAY,CAAC,QAA+B,CAAC,QAAQ;oBACjE,UAAU,EACZ;gBACE,IAAI,CAAC,YAAY,CAAC,QAA+B,CAAC,QAAQ,EAAE,CAAC;aAChE;iBAAM,IACL,IAAI,CAAC,oBAAoB,CAAC,WAAW,CACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CACzC,EACD;gBACA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aAClD;iBAAM,IACL,IAAI,CAAC,oBAAoB,CAAC,WAAW,OACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,0CAAE,UAAU,CACrD,EACD;gBACA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;aAC7D;iBAAM;gBACL,MAAM,KAAK,CACT,6DAA6D,CAC9D,CAAC;aACH;SACF;;;;gBAhFFA,cAAS,SAAC;oBACT,QAAQ,EAAE,wBAAwB;oBAClC,eAAe,EAAEC,4BAAuB,CAAC,MAAM;oBAC/C,QAAQ,EAAE,EAAE;oBAEZ,SAAS,EAAE;wBACT,EAAE,OAAO,EAAEC,yBAAmB,EAAE,WAAW,EAAE,yBAAyB,EAAE;qBACzE;;iBACF;;;gBArBCC,6BAAwB;gBAKxBC,qBAAgB;gBATTC,yBAAoB;;;qBAkC1BC,UAAK;yBAWLA,UAAK;sCAWLA,UAAK;;;;QC/CR;;;;;gBALCC,aAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,yBAAyB,CAAC;oBACzC,OAAO,EAAE,CAAC,yBAAyB,CAAC;oBACpC,OAAO,EAAE,CAACC,mBAAY,CAAC;iBACxB;;;ICRD;;;;;;;;;;;;;"}