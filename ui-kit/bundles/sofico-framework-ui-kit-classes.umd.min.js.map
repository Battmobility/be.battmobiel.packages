{"version":3,"sources":["../../../../projects/sofico-framework/ui-kit/classes/src/lib/overview-list-config.class.ts"],"names":["OverviewListConfig","this","functionalProps","initialSorting","prop","dynamicRowComponent","initialSortingFuncPropRef","prototype","addFunctionalProp","selector","push","label","searchable","sortable","plainSort","withSearch","length","withSorting","withNaturalSorting","propToUpdate","withPlainSorting","asInitialSorting","order","setDynamicRowComponent","component"],"mappings":"ubASA,SAAAA,IACEC,KAAAC,gBAMM,GACND,KAAAE,eAAwC,CACtCC,KAAM,MAERH,KAAAI,oBAAkD,KAC1CJ,KAAAK,0BAA4B,YAEpCN,EAAAO,UAAAC,kBAAA,SAAkBC,GAQhB,OAPAR,KAAKC,gBAAgBQ,KAAK,CACxBC,MAAO,KACPF,SAAQA,EACRG,YAAY,EACZC,UAAU,EACVC,WAAW,IAENb,MAGTD,EAAAO,UAAAQ,WAAA,WAGE,OAFqBd,KAAKC,gBAAgBD,KAAKC,gBAAgBc,OAAS,GAC3DJ,YAAa,EACnBX,MAITD,EAAAO,UAAAU,YAAA,SAAYN,GACV,OAAOV,KAAKiB,mBAAmBP,IAGjCX,EAAAO,UAAAW,mBAAA,SAAmBP,GACjB,IAAMQ,EAAelB,KAAKC,gBAAgBD,KAAKC,gBAAgBc,OAAS,GAOxE,OANAG,EAAaR,MAAQA,EACrBQ,EAAaN,UAAW,EACxBM,EAAaL,WAAY,EACrBb,KAAKK,4BACPL,KAAKK,0BAA0BQ,UAAYK,EAAaL,WAEnDb,MAGTD,EAAAO,UAAAa,iBAAA,SAAiBT,GACf,IAAMQ,EAAelB,KAAKC,gBAAgBD,KAAKC,gBAAgBc,OAAS,GAOxE,OANAG,EAAaR,MAAQA,EACrBQ,EAAaN,UAAW,EACxBM,EAAaL,WAAY,EACrBb,KAAKK,4BACPL,KAAKK,0BAA0BQ,UAAYK,EAAaL,WAEnDb,MAGTD,EAAAO,UAAAc,iBAAA,SAAiBC,GACf,IAAMH,EAAelB,KAAKC,gBAAgBD,KAAKC,gBAAgBc,OAAS,GAOxE,OANAf,KAAKE,eAAiB,CACpBC,KAAMe,EAAaV,SACnBa,MAAKA,EACLR,UAAWK,EAAaL,WAE1Bb,KAAKK,0BAA4Ba,EAC1BlB,MAGTD,EAAAO,UAAAgB,uBAAA,SACEC,GAGA,OADAvB,KAAKI,oBAAsBmB,EACpBvB","sourcesContent":["import { Type } from '@angular/core';\nimport { ListItemComponent } from '@sofico-framework/ui-kit/types';\nimport { SortingOrderConfig } from '@sofico-framework/utils';\n\n/**\n * Configuration/builder to build an overviewList config\n * This object contains all the configuration regarding searching and\n * sorting of an object\n */\nexport class OverviewListConfig<T> {\n  functionalProps: {\n    selector: (entity: T) => any;\n    label: string;\n    searchable: boolean;\n    sortable: boolean;\n    plainSort: boolean;\n  }[] = [];\n  initialSorting: SortingOrderConfig<T> = {\n    prop: null\n  };\n  dynamicRowComponent: Type<ListItemComponent<T>> = null;\n  private initialSortingFuncPropRef = null;\n\n  addFunctionalProp(selector: (entity: T) => any): OverviewListConfig<T> {\n    this.functionalProps.push({\n      label: null,\n      selector,\n      searchable: false,\n      sortable: false,\n      plainSort: false\n    });\n    return this;\n  }\n\n  withSearch(): OverviewListConfig<T> {\n    const propToUpdate = this.functionalProps[this.functionalProps.length - 1];\n    propToUpdate.searchable = true;\n    return this;\n  }\n\n  /** @deprecated use {@link withNaturalSorting}  */\n  withSorting(label: string): OverviewListConfig<T> {\n    return this.withNaturalSorting(label);\n  }\n\n  withNaturalSorting(label: string): OverviewListConfig<T> {\n    const propToUpdate = this.functionalProps[this.functionalProps.length - 1];\n    propToUpdate.label = label;\n    propToUpdate.sortable = true;\n    propToUpdate.plainSort = false;\n    if (this.initialSortingFuncPropRef) {\n      this.initialSortingFuncPropRef.plainSort = propToUpdate.plainSort;\n    }\n    return this;\n  }\n\n  withPlainSorting(label: string): OverviewListConfig<T> {\n    const propToUpdate = this.functionalProps[this.functionalProps.length - 1];\n    propToUpdate.label = label;\n    propToUpdate.sortable = true;\n    propToUpdate.plainSort = true;\n    if (this.initialSortingFuncPropRef) {\n      this.initialSortingFuncPropRef.plainSort = propToUpdate.plainSort;\n    }\n    return this;\n  }\n\n  asInitialSorting(order: 'asc' | 'desc'): OverviewListConfig<T> {\n    const propToUpdate = this.functionalProps[this.functionalProps.length - 1];\n    this.initialSorting = {\n      prop: propToUpdate.selector,\n      order,\n      plainSort: propToUpdate.plainSort\n    } as SortingOrderConfig<T>;\n    this.initialSortingFuncPropRef = propToUpdate;\n    return this;\n  }\n\n  setDynamicRowComponent(\n    component: Type<ListItemComponent<T>>\n  ): OverviewListConfig<T> {\n    this.dynamicRowComponent = component;\n    return this;\n  }\n}\n"]}