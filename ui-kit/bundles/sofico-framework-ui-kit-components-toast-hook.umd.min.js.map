{"version":3,"sources":["../../../../projects/sofico-framework/ui-kit/components/toast-hook/services/toast.service.ts","../../../../projects/sofico-framework/ui-kit/components/toast-hook/toast-hook.component.ts","../../../../projects/sofico-framework/ui-kit/components/toast-hook/toast-hook.module.ts"],"names":["ToastService","nzConfigService","notificationService","this","set","nzDuration","nzPlacement","prototype","connect","template","success","message","translate","createToast","error","warning","icon","type","nzData","nzClass","Injectable","NzConfigService","NzNotificationService","ToastHookComponent","toastService","ngAfterViewInit","Component","args","selector","encapsulation","ViewEncapsulation","None","ViewChild","TemplateRef","NgModule","imports","NzNotificationModule","TranslateModule","forChild","SvgIconModule","declarations","exports","providers"],"mappings":"q+BAQE,SAAAA,EACUC,EACAC,GADAC,KAAAF,gBAAAA,EACAE,KAAAD,oBAAAA,EAERC,KAAKF,gBAAgBG,IAAI,eAAgB,CACvCC,WAAY,IACZC,YAAa,uBAIjBN,EAAAO,UAAAC,QAAA,SAAQC,GACNN,KAAKM,SAAWA,GAGlBT,EAAAO,UAAAG,QAAA,SAAQC,EAAiBC,QAAA,IAAAA,IAAAA,GAAA,GACvBT,KAAKU,YAAYF,EAASC,EAAW,wBAAyB,YAGhEZ,EAAAO,UAAAO,MAAA,SAAMH,EAAiBC,QAAA,IAAAA,IAAAA,GAAA,GACrBT,KAAKU,YAAYF,EAASC,EAAW,oBAAqB,UAG5DZ,EAAAO,UAAAQ,QAAA,SAAQJ,EAAiBC,QAAA,IAAAA,IAAAA,GAAA,GACvBT,KAAKU,YAAYF,EAASC,EAAW,eAAgB,YAG/CZ,EAAAO,UAAAM,YAAA,SACNF,EACAC,EACAI,EACAC,GAEAd,KAAKD,oBAAoBO,SAASN,KAAKM,SAAU,CAC/CS,OAAQ,CAAEP,QAAOA,EAAEC,UAASA,EAAEI,KAAIA,GAClCG,QAAS,aAAaF,8BAtC3BG,EAAAA,sDAHQC,EAAAA,uBACAC,EAAAA,0CCyBP,SAAAC,EAAoBC,GAAArB,KAAAqB,aAAAA,SAEpBD,EAAAhB,UAAAkB,gBAAA,WACEtB,KAAKqB,aAAahB,QAAQL,KAAKM,oCArBlCiB,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,iBAEVC,cAAeC,EAAAA,kBAAkBC,KACjCtB,SAAU,gnDANHT,uCAkBNgC,EAAAA,UAASL,KAAA,CAACM,EAAAA,sBCZb,iCANCC,EAAAA,SAAQP,KAAA,CAAC,CACRQ,QAAS,CAACC,EAAAA,qBAAsBC,EAAAA,gBAAgBC,WAAYC,EAAAA,eAC5DC,aAAc,CAACjB,GACfkB,QAAS,CAAClB,GACVmB,UAAW,CAAC1C","sourcesContent":["import { Injectable, TemplateRef } from '@angular/core';\nimport { NzConfigService } from 'ng-zorro-antd/core/config';\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\n\n@Injectable()\nexport class ToastService {\n  private template: TemplateRef<any>;\n\n  constructor(\n    private nzConfigService: NzConfigService,\n    private notificationService: NzNotificationService\n  ) {\n    this.nzConfigService.set('notification', {\n      nzDuration: 5000,\n      nzPlacement: 'bottomRight'\n    });\n  }\n\n  connect(template: TemplateRef<any>): void {\n    this.template = template;\n  }\n\n  success(message: string, translate: boolean = false): void {\n    this.createToast(message, translate, 'icon-checkmark-circle', 'success');\n  }\n\n  error(message: string, translate: boolean = false): void {\n    this.createToast(message, translate, 'icon-cross-circle', 'error');\n  }\n\n  warning(message: string, translate: boolean = false): void {\n    this.createToast(message, translate, 'icon-warning', 'warning');\n  }\n\n  private createToast(\n    message: string,\n    translate: boolean,\n    icon: string,\n    type: 'success' | 'error' | 'warning'\n  ): void {\n    this.notificationService.template(this.template, {\n      nzData: { message, translate, icon },\n      nzClass: `sof-toast-${type}`\n    });\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { ToastService } from './services/toast.service';\n\n@Component({\n  selector: 'sof-toast-hook',\n  styleUrls: ['./toast-hook.component.scss'],\n  encapsulation: ViewEncapsulation.None, // so all css can stay with the component\n  template: `\n    <ng-template let-toast=\"data\">\n      <div class=\"content\">\n        <sof-svg-icon [icon]=\"toast.icon\" size=\"20\"></sof-svg-icon>\n        <div class=\"message\">\n          {{ toast.translate ? (toast.message | translate) : toast.message }}\n        </div>\n      </div>\n    </ng-template>\n  `\n})\nexport class ToastHookComponent implements AfterViewInit {\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n\n  constructor(private toastService: ToastService) {}\n\n  ngAfterViewInit(): void {\n    this.toastService.connect(this.template);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { SvgIconModule } from '@sofico-framework/ui-kit/components/svg-icon';\nimport { NzNotificationModule } from 'ng-zorro-antd/notification';\nimport { ToastService } from './services/toast.service';\nimport { ToastHookComponent } from './toast-hook.component';\n\n@NgModule({\n  imports: [NzNotificationModule, TranslateModule.forChild(), SvgIconModule],\n  declarations: [ToastHookComponent],\n  exports: [ToastHookComponent],\n  providers: [ToastService]\n})\nexport class ToastHookModule {}\n"]}