!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@ngx-translate/core"),require("@sofico-framework/ui-kit/components/form"),require("@sofico-framework/ui-kit/directives/focus"),require("@sofico-framework/utils"),require("moment"),require("ngx-reactivetoolkit"),require("rxjs/operators"),require("@angular/common"),require("ng-zorro-antd/date-picker")):"function"==typeof define&&define.amd?define("@sofico-framework/ui-kit/components/input-range-picker",["exports","@angular/core","@angular/forms","@ngx-translate/core","@sofico-framework/ui-kit/components/form","@sofico-framework/ui-kit/directives/focus","@sofico-framework/utils","moment","ngx-reactivetoolkit","rxjs/operators","@angular/common","ng-zorro-antd/date-picker"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["sofico-framework"]=e["sofico-framework"]||{},e["sofico-framework"]["ui-kit"]=e["sofico-framework"]["ui-kit"]||{},e["sofico-framework"]["ui-kit"].components=e["sofico-framework"]["ui-kit"].components||{},e["sofico-framework"]["ui-kit"].components["input-range-picker"]={}),e.ng.core,e.ng.forms,e.core$1,e["sofico-framework"]["ui-kit"].components.form,e["sofico-framework"]["ui-kit"].directives.focus,e.utils,e._moment,e.ngxReactivetoolkit,e.rxjs.operators,e.ng.common,e.datePicker)}(this,(function(e,t,n,r,o,a,i,c,s,u,p,l){"use strict";function f(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var g=f(c);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}var d;Object.create;var h=g;e.InputRangePickerComponent=d=function(){function e(e,r,o,a){this.form=e,this.ngControl=r,this.translateService=o,this.changeDetectorRef=a,this.tc="@COMMON",this.size="large",this.dateFormat=i.DateFormatEnum.BIG_ENDIAN_DASH,this.separator="â†’",this.invalid=!1,this.changeValue=new t.EventEmitter,this.touch=new t.EventEmitter,this.inputReadOnly=!1,this.internalFormControl=new n.FormControl(null),this.defaultRanges=[{label:"THIS_WEEK",startDate:h().startOf("week").toDate(),endDate:h().endOf("week").toDate()},{label:"THIS_MONTH",startDate:h().startOf("month").toDate(),endDate:h().endOf("month").toDate()},{label:"THIS_QUARTER",startDate:h().startOf("quarter").toDate(),endDate:h().endOf("quarter").toDate()},{label:"THIS_YEAR",startDate:h().startOf("year").toDate(),endDate:h().endOf("year").toDate()}],r&&(r.valueAccessor=this)}return Object.defineProperty(e.prototype,"defaultRange",{set:function(e){e&&(this.nzRanges$=this.changePresetRangesToPresetRangesFromNgZorro(this.defaultRanges))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customRanges",{set:function(e){this.nzRanges$=this.changePresetRangesToPresetRangesFromNgZorro(e)},enumerable:!1,configurable:!0}),e.prototype.sofFocus=function(){this.inputElement.nativeElement.getElementsByTagName("input")[0].focus(),this.changeDetectorRef.detectChanges()},e.prototype.ngOnInit=function(){var e=this;this.internalFormControl.valueChanges.pipe(s.takeUntilDestroy(this)).subscribe((function(t){if(!e.isDisabled){var n=0!==t.length?[h(t[0]).format(i.DateFormatEnum.BIG_ENDIAN_DASH.toUpperCase()),h(t[1]).format(i.DateFormatEnum.BIG_ENDIAN_DASH.toUpperCase())]:null;e.changeValue.emit(n),e.propagateChange&&e.propagateChange(n)}}))},e.prototype.ngOnDestroy=function(){var e;(null===(e=this.ngControl)||void 0===e?void 0:e.valueAccessor)&&(this.ngControl.valueAccessor.writeValue=function(){})},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.propagateTouch=e},e.prototype.writeValue=function(e){this.internalFormControl.setValue(null!=e?e:null,{emitEvent:!1})},e.prototype.onTouch=function(e){e||(this.touch.emit(),!this.isDisabled&&this.propagateTouch&&this.propagateTouch())},e.prototype.changePresetRangesToPresetRangesFromNgZorro=function(e){var t=this,n=e.map((function(e){return t.tc+"."+e.label}));return this.translateService.stream(n).pipe(u.map((function(n){return Object.keys(n).map((function(r){var o,a=e.find((function(e){return t.tc+"."+e.label===r}));return(o={})[n[r]]=[a.startDate,a.endDate],o}))})),u.map((function(e){return Object.assign.apply(Object,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}([{}],e))})))},e}(),e.InputRangePickerComponent.decorators=[{type:t.Component,args:[{selector:"sof-input-range-picker",encapsulation:t.ViewEncapsulation.None,template:'\n    <nz-range-picker\n      #inputElement\n      [nzInputReadOnly]="inputReadOnly"\n      [@.disabled]="true"\n      [formControl]="internalFormControl"\n      [nzFormat]="dateFormat"\n      [nzRanges]="nzRanges$ | async"\n      [nzPlaceHolder]="placeHolder"\n      [nzSeparator]="separator"\n      [nzSize]="size"\n      [nzDisabled]="isDisabled"\n      [class.is-invalid]="\n        invalid ||\n        (ngControl?.invalid && (ngControl?.touched || form?.submitted))\n      "\n      (nzOnOpenChange)="onTouch($event)"\n    ></nz-range-picker>\n  ',providers:[{provide:a.SOF_FOCUS_COMPONENT,useExisting:d}],styles:["sof-input-range-picker nz-range-picker{width:100%;height:38px}sof-input-range-picker nz-range-picker .ant-picker-suffix .anticon-calendar{display:flex}sof-input-range-picker nz-range-picker.is-invalid>div:first-child>div:nth-child(3){background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}sof-input-range-picker .ant-picker-range .ant-picker-active-bar{background:unset;transition:unset;opacity:unset}"]}]}],e.InputRangePickerComponent.ctorParameters=function(){return[{type:o.FormComponent,decorators:[{type:t.Optional}]},{type:n.NgControl,decorators:[{type:t.Optional},{type:t.Host}]},{type:r.TranslateService},{type:t.ChangeDetectorRef}]},e.InputRangePickerComponent.propDecorators={size:[{type:t.Input}],dateFormat:[{type:t.Input}],defaultRange:[{type:t.Input}],customRanges:[{type:t.Input}],placeHolder:[{type:t.Input}],separator:[{type:t.Input}],labelForId:[{type:t.Input}],isDisabled:[{type:t.Input}],invalid:[{type:t.Input}],changeValue:[{type:t.Output}],touch:[{type:t.Output}],inputElement:[{type:t.ViewChild,args:["inputElement",{read:t.ElementRef}]}]},e.InputRangePickerComponent=d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}([s.UntilDestroy()],e.InputRangePickerComponent);var k=function(){};k.decorators=[{type:t.NgModule,args:[{imports:[p.CommonModule,l.NzDatePickerModule,n.FormsModule,n.ReactiveFormsModule],declarations:[e.InputRangePickerComponent],exports:[e.InputRangePickerComponent]}]}],e.InputRangePickerModule=k,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sofico-framework-ui-kit-components-input-range-picker.umd.min.js.map