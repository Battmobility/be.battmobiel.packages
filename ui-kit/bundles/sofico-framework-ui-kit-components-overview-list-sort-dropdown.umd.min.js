!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@ngx-translate/core"),require("rxjs/operators"),require("@angular/common"),require("@sofico-framework/ui-kit/components/button"),require("@sofico-framework/ui-kit/components/input-single-select"),require("@sofico-framework/ui-kit/components/svg-icon")):"function"==typeof define&&define.amd?define("@sofico-framework/ui-kit/components/overview-list-sort-dropdown",["exports","@angular/core","@angular/forms","@ngx-translate/core","rxjs/operators","@angular/common","@sofico-framework/ui-kit/components/button","@sofico-framework/ui-kit/components/input-single-select","@sofico-framework/ui-kit/components/svg-icon"],e):e(((o="undefined"!=typeof globalThis?globalThis:o||self)["sofico-framework"]=o["sofico-framework"]||{},o["sofico-framework"]["ui-kit"]=o["sofico-framework"]["ui-kit"]||{},o["sofico-framework"]["ui-kit"].components=o["sofico-framework"]["ui-kit"].components||{},o["sofico-framework"]["ui-kit"].components["overview-list-sort-dropdown"]={}),o.ng.core,o.ng.forms,o.core$1,o.rxjs.operators,o.ng.common,o["sofico-framework"]["ui-kit"].components.button,o["sofico-framework"]["ui-kit"].components["input-single-select"],o["sofico-framework"]["ui-kit"].components["svg-icon"])}(this,(function(o,e,n,t,r,i,s,l,c){"use strict";var u=function(){function o(o,n){this.translateService=o,this.fb=n,this.form=this.fb.control(0),this.changeSorting=new e.EventEmitter,this.selectorLabel=function(o){return null==o?void 0:o.translation},this.selectorValue=function(o){return null==o?void 0:o.index}}return Object.defineProperty(o.prototype,"overviewListConfig",{set:function(o){var e,n,t,r,i,s;this.selectors=null===(n=null===(e=null==o?void 0:o.functionalProps)||void 0===e?void 0:e.filter((function(o){return o.sortable})))||void 0===n?void 0:n.map((function(o){return null==o?void 0:o.selector})),this.plainSorts=null===(r=null===(t=null==o?void 0:o.functionalProps)||void 0===t?void 0:t.filter((function(o){return o.sortable})))||void 0===r?void 0:r.map((function(o){return null==o?void 0:o.plainSort})),this.labels=null===(s=null===(i=null==o?void 0:o.functionalProps)||void 0===i?void 0:i.filter((function(o){return o.sortable})))||void 0===s?void 0:s.map((function(o){return null==o?void 0:o.label})),this.dropDownChoices$=this.mapToTranslatedDropDownChoices()},enumerable:!1,configurable:!0}),o.prototype.changeDirection=function(){var o,e,n;this.changeSorting.emit({prop:null===(o=this.sorting)||void 0===o?void 0:o.prop,plainSort:null===(e=this.sorting)||void 0===e?void 0:e.plainSort,order:"asc"===(null===(n=this.sorting)||void 0===n?void 0:n.order)?"desc":"asc"})},o.prototype.onChange=function(o){var e;this.changeSorting.emit({prop:this.selectors[o.index],plainSort:this.plainSorts[o.index],order:null===(e=this.sorting)||void 0===e?void 0:e.order})},o.prototype.mapToTranslatedDropDownChoices=function(){var o=this,e=this.labels.map((function(e){return o.tc+"."+e}));return this.translateService.stream(e).pipe(r.map((function(o){return Object.keys(o).map((function(e,n){return{translation:o[e],index:n}}))})))},o}();u.decorators=[{type:e.Component,args:[{selector:"sof-overview-list-sort-dropdown",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <div class="input-group mb-3">\n      <div class="input-group-prepend">\n        <button\n          sofButton\n          [icon]="\n            sorting?.order === \'asc\'\n              ? \'icon-sort-amount-asc\'\n              : \'icon-sort-amount-desc\'\n          "\n          class="btn"\n          type="button"\n          (click)="changeDirection()"\n        ></button>\n      </div>\n      <sof-input-single-select\n        [tc]="tc"\n        class="form-control"\n        [formControl]="form"\n        [options]="dropDownChoices$ | async"\n        [selectorLabel]="selectorLabel"\n        [selectorValue]="selectorValue"\n        [clearable]="false"\n        [showSearch]="false"\n        (changeObjectValue)="onChange($event)"\n      ></sof-input-single-select>\n    </div>\n  ',styles:[".input-group{background-color:#fff;border-radius:.25rem}.input-group .btn{display:flex;align-items:center;border:1px solid #ced4da;border-right:0}.input-group sof-input-single-select.form-control{padding:0;border:0}"]}]}],u.ctorParameters=function(){return[{type:t.TranslateService},{type:n.FormBuilder}]},u.propDecorators={tc:[{type:e.Input}],sorting:[{type:e.Input}],overviewListConfig:[{type:e.Input}],changeSorting:[{type:e.Output}]};var a=function(){};a.decorators=[{type:e.NgModule,args:[{declarations:[u],exports:[u],imports:[i.CommonModule,c.SvgIconModule,t.TranslateModule,l.InputSingleSelectModule,n.FormsModule,n.ReactiveFormsModule,s.ButtonModule]}]}],o.OverviewListSortDropdownComponent=u,o.OverviewListSortDropdownModule=a,Object.defineProperty(o,"__esModule",{value:!0})}));
//# sourceMappingURL=sofico-framework-ui-kit-components-overview-list-sort-dropdown.umd.min.js.map