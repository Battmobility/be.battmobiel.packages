import { ViewportScroller } from '@angular/common';
import { Injectable } from '@angular/core';
import { Router } from '@angular/router';
export class RouterToolsService {
    constructor(router, viewportScroller) {
        this.router = router;
        this.viewportScroller = viewportScroller;
        this.position = [0, 0];
    }
    navigateWithPositionRestore(commands, extras) {
        this.position = this.viewportScroller.getScrollPosition();
        return this.internalNavigateWithPositionRestore(commands, extras);
    }
    navigateWithPreviousPositionRestore(commands, extras) {
        return this.internalNavigateWithPositionRestore(commands, extras);
    }
    internalNavigateWithPositionRestore(commands, extras) {
        return this.router.navigate(commands, extras).then(() => {
            this.viewportScroller.scrollToPosition(this.position);
        });
    }
}
RouterToolsService.decorators = [
    { type: Injectable }
];
RouterToolsService.ctorParameters = () => [
    { type: Router },
    { type: ViewportScroller }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLXRvb2xzLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zb2ZpY28tZnJhbWV3b3JrL3V0aWxzL3NyYy9saWIvc2VydmljZXMvcm91dGVyLXRvb2xzLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQW9CLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRzNELE1BQU0sT0FBTyxrQkFBa0I7SUFHN0IsWUFDVSxNQUFjLEVBQ2QsZ0JBQWtDO1FBRGxDLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBSnBDLGFBQVEsR0FBcUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFLekMsQ0FBQztJQUVKLDJCQUEyQixDQUN6QixRQUFlLEVBQ2YsTUFBeUI7UUFFekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUMxRCxPQUFPLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELG1DQUFtQyxDQUNqQyxRQUFlLEVBQ2YsTUFBeUI7UUFFekIsT0FBTyxJQUFJLENBQUMsbUNBQW1DLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFTyxtQ0FBbUMsQ0FDekMsUUFBZSxFQUNmLE1BQXlCO1FBRXpCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDdEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7OztZQS9CRixVQUFVOzs7WUFGZ0IsTUFBTTtZQUZ4QixnQkFBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWaWV3cG9ydFNjcm9sbGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5hdmlnYXRpb25FeHRyYXMsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBSb3V0ZXJUb29sc1NlcnZpY2Uge1xuICBwcml2YXRlIHBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXG4gICAgcHJpdmF0ZSB2aWV3cG9ydFNjcm9sbGVyOiBWaWV3cG9ydFNjcm9sbGVyXG4gICkge31cblxuICBuYXZpZ2F0ZVdpdGhQb3NpdGlvblJlc3RvcmUoXG4gICAgY29tbWFuZHM6IGFueVtdLFxuICAgIGV4dHJhcz86IE5hdmlnYXRpb25FeHRyYXNcbiAgKTogUHJvbWlzZTxib29sZWFuIHwgdm9pZD4ge1xuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuZ2V0U2Nyb2xsUG9zaXRpb24oKTtcbiAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE5hdmlnYXRlV2l0aFBvc2l0aW9uUmVzdG9yZShjb21tYW5kcywgZXh0cmFzKTtcbiAgfVxuXG4gIG5hdmlnYXRlV2l0aFByZXZpb3VzUG9zaXRpb25SZXN0b3JlKFxuICAgIGNvbW1hbmRzOiBhbnlbXSxcbiAgICBleHRyYXM/OiBOYXZpZ2F0aW9uRXh0cmFzXG4gICk6IFByb21pc2U8Ym9vbGVhbiB8IHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE5hdmlnYXRlV2l0aFBvc2l0aW9uUmVzdG9yZShjb21tYW5kcywgZXh0cmFzKTtcbiAgfVxuXG4gIHByaXZhdGUgaW50ZXJuYWxOYXZpZ2F0ZVdpdGhQb3NpdGlvblJlc3RvcmUoXG4gICAgY29tbWFuZHM6IGFueVtdLFxuICAgIGV4dHJhcz86IE5hdmlnYXRpb25FeHRyYXNcbiAgKTogUHJvbWlzZTxib29sZWFuIHwgdm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJvdXRlci5uYXZpZ2F0ZShjb21tYW5kcywgZXh0cmFzKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKHRoaXMucG9zaXRpb24pO1xuICAgIH0pO1xuICB9XG59XG4iXX0=