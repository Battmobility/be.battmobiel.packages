import { Observable } from 'rxjs';
import { rootInjector } from '../functions/root-injector';
import { HttpStatusService } from '../services/http-status.service';
export function GetErrorMessage() {
    return (target, key) => {
        target[key] = Observable.create(observer => {
            const service = rootInjector.get(HttpStatusService);
            const sub = service.getError$.subscribe(v => {
                observer.next(v);
            });
            return () => sub.unsubscribe();
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWVycm9yLW1lc3NhZ2UuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc29maWNvLWZyYW1ld29yay91dGlscy9zcmMvbGliL2RlY29yYXRvcnMvZ2V0LWVycm9yLW1lc3NhZ2UuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDbEMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzFELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBRXBFLE1BQU0sVUFBVSxlQUFlO0lBQzdCLE9BQU8sQ0FBQyxNQUFXLEVBQUUsR0FBVyxFQUFFLEVBQUU7UUFDbEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDekMsTUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUMxQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25CLENBQUMsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgcm9vdEluamVjdG9yIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3Jvb3QtaW5qZWN0b3InO1xuaW1wb3J0IHsgSHR0cFN0YXR1c1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9odHRwLXN0YXR1cy5zZXJ2aWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIEdldEVycm9yTWVzc2FnZSgpOiAodGFyZ2V0OiBhbnksIGtleTogc3RyaW5nKSA9PiB2b2lkIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwga2V5OiBzdHJpbmcpID0+IHtcbiAgICB0YXJnZXRba2V5XSA9IE9ic2VydmFibGUuY3JlYXRlKG9ic2VydmVyID0+IHtcbiAgICAgIGNvbnN0IHNlcnZpY2UgPSByb290SW5qZWN0b3IuZ2V0KEh0dHBTdGF0dXNTZXJ2aWNlKTtcbiAgICAgIGNvbnN0IHN1YiA9IHNlcnZpY2UuZ2V0RXJyb3IkLnN1YnNjcmliZSh2ID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIubmV4dCh2KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHN1Yi51bnN1YnNjcmliZSgpO1xuICAgIH0pO1xuICB9O1xufVxuIl19